# å¢¨è¿¹ - ä¸ªäººåšå®¢å¹³å°

ç°ä»£ã€ç®€æ´ã€æ³¨é‡å†…å®¹å±•ç¤ºçš„ä¸ªäººåšå®¢ç½‘ç«™ï¼Œæä¾›å“è¶Šçš„é˜…è¯»å’Œå†™ä½œä½“éªŒã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” ç”¨æˆ·è®¤è¯ä¸ç®¡ç†
- å®‰å…¨çš„ç®¡ç†å‘˜è®¤è¯ç³»ç»Ÿ (JWT)
- ç”¨æˆ·ä¿¡æ¯ç®¡ç†å’Œå¯†ç ä¿®æ”¹
- åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶

### ğŸ“ å†…å®¹ç®¡ç†ç³»ç»Ÿ
- å¼ºå¤§çš„æ–‡ç« ç®¡ç†ç³»ç»Ÿ (åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€å‘å¸ƒ)
- Markdown ç¼–è¾‘å™¨æ”¯æŒ
- æ–‡ç« çŠ¶æ€ç®¡ç† (è‰ç¨¿ã€å·²å‘å¸ƒã€å½’æ¡£)
- æ–‡ç« å°é¢å›¾ç‰‡ä¸Šä¼ 
- æ–‡ç« æ‘˜è¦å’ŒSEOä¼˜åŒ–

### ğŸ·ï¸ å†…å®¹ç»„ç»‡
- åˆ†ç±»ç³»ç»Ÿ (æ”¯æŒé¢œè‰²æ ‡è®°)
- æ ‡ç­¾ç³»ç»Ÿ (æ”¯æŒæ‰¹é‡åˆ›å»º)
- ç²¾é€‰æ–‡ç« åŠŸèƒ½
- æ–‡ç« æµè§ˆé‡ç»Ÿè®¡

### ğŸ’¬ äº’åŠ¨åŠŸèƒ½
- è¯„è®ºç³»ç»Ÿ (æ”¯æŒå›å¤)
- è¯„è®ºå®¡æ ¸æœºåˆ¶
- è®¿å®¢ä¿¡æ¯æ”¶é›† (æ˜µç§°ã€é‚®ç®±ã€ç½‘ç«™)

### ğŸ” æœç´¢ä¸å¯¼èˆª
- å…¨ç«™æœç´¢åŠŸèƒ½
- åˆ†ç±»ç­›é€‰å’Œæ ‡ç­¾ç­›é€‰
- æ–‡ç« å½’æ¡£é¡µé¢
- ç›¸å…³æ–‡ç« æ¨è

### ğŸ¨ ç”¨æˆ·ç•Œé¢
- å“åº”å¼è®¾è®¡ (å®Œç¾é€‚é…æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœº)
- ç°ä»£åŒ–çš„UIè®¾è®¡
- ä¼˜é›…çš„åŠ¨ç”»æ•ˆæœ
- æš—è‰²æ¨¡å¼æ”¯æŒå‡†å¤‡

### âš¡ æ€§èƒ½ä¸SEO
- æœåŠ¡ç«¯æ¸²æŸ“ (SSR)
- é™æ€ç«™ç‚¹ç”Ÿæˆ (SSG) æ”¯æŒ
- å›¾ç‰‡ä¼˜åŒ–å’Œæ‡’åŠ è½½
- SEOå‹å¥½çš„URLç»“æ„
- Open Graphå’ŒTwitter Cardæ”¯æŒ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: Next.js 14 (React 18)
- **æ ·å¼**: Tailwind CSS + Headless UI
- **åŠ¨ç”»**: Framer Motion
- **å›¾æ ‡**: Heroicons
- **ç¼–è¾‘å™¨**: React Markdown + Rehype/Remark
- **è¡¨å•**: React Hook Form + Zod
- **çŠ¶æ€ç®¡ç†**: SWR
- **HTTPå®¢æˆ·ç«¯**: Axios

### åç«¯æŠ€æœ¯
- **è¿è¡Œæ—¶**: Node.js
- **æ¡†æ¶**: Express.js
- **æ•°æ®åº“**: PostgreSQL
- **è®¤è¯**: JWT + bcrypt
- **æ–‡ä»¶ä¸Šä¼ **: Multer
- **éªŒè¯**: Express Validator
- **é™æµ**: Express Rate Limit
- **æ—¥å¿—**: Morgan

### å¼€å‘å·¥å…·
- **è¯­è¨€**: TypeScript
- **ä»£ç æ£€æŸ¥**: ESLint
- **åŒ…ç®¡ç†**: NPM
- **æ„å»ºå·¥å…·**: Next.js CLI
- **å®¹å™¨åŒ–**: Docker + Docker Compose

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨ Docker (æ¨è)

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd mojie-blog

# ä½¿ç”¨ Docker Compose å¯åŠ¨
npm run docker:up
```

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…æ ¹ç›®å½•ä¾èµ–
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend && npm install

# å®‰è£…åç«¯ä¾èµ–
cd ../backend && npm install

# è®¾ç½®ç¯å¢ƒå˜é‡
cp backend/env.example backend/.env
# ç¼–è¾‘ backend/.env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (åœ¨é¡¹ç›®æ ¹ç›®å½•)
cd .. && npm run dev
```

### é¦–æ¬¡è¿è¡Œè®¾ç½®

1. **æ•°æ®åº“åˆå§‹åŒ–**:
   - ç¡®ä¿ PostgreSQL æœåŠ¡è¿è¡Œ
   - æ‰§è¡Œ `database/init.sql` åˆå§‹åŒ–æ•°æ®åº“ç»“æ„å’Œç¤ºä¾‹æ•°æ®

2. **é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·**:
   - ç”¨æˆ·å: `admin`
   - å¯†ç : `admin123`
   - é‚®ç®±: `admin@mojie.blog`

3. **è®¿é—®åœ°å€**:
   - å‰ç«¯: http://localhost:3000
   - åç«¯ API: http://localhost:8000
   - API æ–‡æ¡£: http://localhost:8000/api

## ğŸ“ é¡¹ç›®ç»“æ„

```
mojie-blog/
â”œâ”€â”€ ğŸ“ frontend/                    # Next.js å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ ğŸ“ public/                  # é™æ€èµ„æº
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/          # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ pages/               # Next.js é¡µé¢
â”‚   â”‚   â”œâ”€â”€ ğŸ“ hooks/               # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ ğŸ“ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ ğŸ“ styles/              # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ next.config.js           # Next.js é…ç½®
â”‚   â”œâ”€â”€ ğŸ“„ tailwind.config.js       # Tailwind é…ç½®
â”‚   â””â”€â”€ ğŸ“„ package.json
â”œâ”€â”€ ğŸ“ backend/                     # Express.js åç«¯ API
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ config/              # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ controllers/         # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“ middleware/          # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ routes/              # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.js             # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ ğŸ“ uploads/                 # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”‚   â””â”€â”€ ğŸ“„ package.json
â”œâ”€â”€ ğŸ“ database/                    # æ•°æ®åº“ç›¸å…³
â”‚   â””â”€â”€ ğŸ“„ init.sql                 # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ ğŸ“„ docker-compose.yml           # Docker ç¼–æ’é…ç½®
â”œâ”€â”€ ğŸ“„ API_ROUTES.md                # API æ¥å£æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ package.json                 # æ ¹é¡¹ç›®é…ç½®
â””â”€â”€ ğŸ“„ README.md                    # é¡¹ç›®è¯´æ˜
```

## ğŸš¢ éƒ¨ç½²

### Vercel éƒ¨ç½² (æ¨èï¼Œä»…å‰ç«¯)

Vercel æ˜¯ Next.js å®˜æ–¹æ¨èçš„éƒ¨ç½²å¹³å°ï¼Œæä¾›å…¨çƒ CDNã€è‡ªåŠ¨ SSL å’Œå³æ—¶éƒ¨ç½²ã€‚

1. **éƒ¨ç½²æ­¥éª¤**:
   - Fork é¡¹ç›®åˆ°ä½ çš„ GitHub è´¦æˆ·
   - è®¿é—® [vercel.com](https://vercel.com) å¹¶ç™»å½•
   - å¯¼å…¥é¡¹ç›®ï¼Œé€‰æ‹© GitHub ä»“åº“
   - è®¾ç½®æ ¹ç›®å½•ä¸º `frontend`
   - é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå‚è€ƒ `frontend/.env.example`ï¼‰
   - ç‚¹å‡»éƒ¨ç½²

2. **ç¯å¢ƒå˜é‡**:
   ```env
   NEXT_PUBLIC_API_URL=ä½ çš„åç«¯APIåœ°å€
   NEXT_PUBLIC_SITE_NAME=å¢¨è¿¹åšå®¢
   NEXT_PUBLIC_SITE_DESCRIPTION=ç°ä»£ä¸ªäººåšå®¢å¹³å°
   ```

è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·å‚è€ƒ [VERCEL_DEPLOYMENT.md](./VERCEL_DEPLOYMENT.md)

### Docker éƒ¨ç½² (å…¨æ ˆ)

```bash
# æ„å»ºé•œåƒ
npm run docker:build

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
npm run docker:up

# åœæ­¢æœåŠ¡
npm run docker:down
```

### æ‰‹åŠ¨éƒ¨ç½²

1. **å‡†å¤‡ç¯å¢ƒ**:
   ```bash
   # ç¡®ä¿ç³»ç»Ÿå·²å®‰è£…
   - Node.js 18+
   - PostgreSQL 13+
   - Git
   ```

2. **æ•°æ®åº“è®¾ç½®**:
   ```bash
   # åˆ›å»ºæ•°æ®åº“
   createdb mojie_blog
   
   # æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬
   psql -d mojie_blog -f database/init.sql
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**:
   ```bash
   # å¤åˆ¶å¹¶ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶
   cp backend/env.example backend/.env
   ```

4. **æ„å»ºå’Œå¯åŠ¨**:
   ```bash
   # å®‰è£…ä¾èµ–
   npm install
   cd frontend && npm install
   cd ../backend && npm install
   
   # æ„å»ºå‰ç«¯
   cd ../frontend && npm run build
   
   # å¯åŠ¨æœåŠ¡
   cd .. && npm start
   ```

## âš™ï¸ ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `backend/.env` æ–‡ä»¶ä¸­é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# æœåŠ¡å™¨é…ç½®
PORT=8000
NODE_ENV=production

# JWT å¯†é’¥ (ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨å¤æ‚å¯†é’¥)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d

# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=5432
DB_NAME=mojie_blog
DB_USER=your-db-user
DB_PASSWORD=your-db-password

# æ–‡ä»¶ä¸Šä¼ é…ç½®
UPLOAD_MAX_SIZE=5242880
UPLOAD_PATH=./uploads

# CORS é…ç½®
CORS_ORIGIN=http://localhost:3000

# é™æµé…ç½®
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
```

## ğŸ“ ä½¿ç”¨æŒ‡å—

### ç®¡ç†åå°åŠŸèƒ½

1. **æ–‡ç« ç®¡ç†**:
   - æ”¯æŒ Markdown ç¼–å†™
   - å®æ—¶é¢„è§ˆåŠŸèƒ½
   - å°é¢å›¾ç‰‡ä¸Šä¼ 
   - åˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†
   - æ–‡ç« çŠ¶æ€æ§åˆ¶

2. **å†…å®¹ç»„ç»‡**:
   - åˆ›å»ºå’Œç¼–è¾‘åˆ†ç±»
   - æ‰¹é‡ç®¡ç†æ ‡ç­¾
   - è®¾ç½®ç²¾é€‰æ–‡ç« 

3. **è¯„è®ºå®¡æ ¸**:
   - æŸ¥çœ‹æ‰€æœ‰è¯„è®º
   - æ‰¹å‡†/æ‹’ç»è¯„è®º
   - åˆ é™¤åƒåœ¾è¯„è®º

### API ä½¿ç”¨

è¯¦ç»†çš„ API æ–‡æ¡£è¯·å‚è€ƒ [API_ROUTES.md](./API_ROUTES.md)

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¸»é¢˜å®šåˆ¶

1. **é¢œè‰²æ–¹æ¡ˆ**: ç¼–è¾‘ `frontend/tailwind.config.js`
2. **å­—ä½“è®¾ç½®**: ä¿®æ”¹ `frontend/src/styles/globals.css`
3. **å¸ƒå±€è°ƒæ•´**: æ›´æ–° `frontend/src/components/Layout.tsx`

### åŠŸèƒ½æ‰©å±•

1. **æ·»åŠ æ–°é¡µé¢**: åœ¨ `frontend/src/pages/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶
2. **æ‰©å±• API**: åœ¨ `backend/src/routes/` å’Œ `backend/src/controllers/` ä¸­æ·»åŠ æ–°åŠŸèƒ½
3. **æ•°æ®åº“ä¿®æ”¹**: æ›´æ–° `database/init.sql` å¹¶è¿›è¡Œæ•°æ®è¿ç§»

## ğŸ¯ è·¯çº¿å›¾

- [ ] ç®¡ç†å‘˜åå°ç•Œé¢
- [ ] æ–‡ç« ç¼–è¾‘å™¨å¢å¼º
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] æš—è‰²æ¨¡å¼
- [ ] PWA æ”¯æŒ
- [ ] é‚®ä»¶é€šçŸ¥ç³»ç»Ÿ
- [ ] ç»Ÿè®¡åˆ†æåŠŸèƒ½
- [ ] å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½

## ğŸ› é—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜

1. **æ•°æ®åº“è¿æ¥å¤±è´¥**:
   - æ£€æŸ¥ PostgreSQL æœåŠ¡æ˜¯å¦è¿è¡Œ
   - ç¡®è®¤æ•°æ®åº“è¿æ¥å‚æ•°æ­£ç¡®
   - éªŒè¯ç”¨æˆ·æƒé™è®¾ç½®

2. **æ–‡ä»¶ä¸Šä¼ å¤±è´¥**:
   - æ£€æŸ¥ `backend/uploads/` ç›®å½•æƒé™
   - ç¡®è®¤æ–‡ä»¶å¤§å°ä¸è¶…è¿‡é™åˆ¶
   - éªŒè¯æ–‡ä»¶ç±»å‹æ˜¯å¦æ”¯æŒ

3. **å‰ç«¯é¡µé¢æ— æ³•è®¿é—®**:
   - ç¡®è®¤åç«¯ API æœåŠ¡æ­£å¸¸è¿è¡Œ
   - æ£€æŸ¥ CORS é…ç½®
   - éªŒè¯ç¯å¢ƒå˜é‡è®¾ç½®

### æ—¥å¿—æŸ¥çœ‹

```bash
# Docker ç¯å¢ƒæŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs -f backend
docker-compose logs -f frontend
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### æäº¤ Issue

- ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜æè¿°é—®é¢˜
- æä¾›è¯¦ç»†çš„å¤ç°æ­¥éª¤
- åŒ…å«ç›¸å…³çš„é”™è¯¯ä¿¡æ¯å’Œæˆªå›¾

### æäº¤ Pull Request

1. Fork é¡¹ç›®åˆ°æ‚¨çš„ GitHub è´¦æˆ·
2. åˆ›å»ºæ–°çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ª ESLint è§„åˆ™
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ é€‚å½“çš„æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT è®¸å¯è¯](LICENSE) å¼€æºã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š

- [Next.js](https://nextjs.org/) - React æ¡†æ¶
- [Express.js](https://expressjs.com/) - Node.js Web æ¡†æ¶
- [PostgreSQL](https://www.postgresql.org/) - æ•°æ®åº“
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [Framer Motion](https://www.framer.com/motion/) - åŠ¨ç”»åº“

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- ğŸ“§ Email: akesakiko@gmail.com
- ğŸ› Issues: [GitHub Issues](https://github.com/Yi-luo-hua/Moji_blog/issues)
- ğŸ’¬ Discussions: [GitHub Discussions](https://github.com/Yi-luo-hua/Moji_blog/discussions)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª star æ”¯æŒä¸€ä¸‹ï¼

